<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>Map Manager : Release Notes</title>
        <meta name="description" content="">

        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/mapmanager/css/syntax.css">
        <link rel="stylesheet" href="/mapmanager/css/main.css">
    </head>
    <body>

        <div class="container">
            <div class=row-fluid>
                <div id=header class=span12>
                    <div class=no-print>

<div style="float: right;"><A HREF="search.html">Search...</A></div>

<h4>
	<a class=brand href="/mapmanager/">Map Manager</a>
    <small></small>
</h4>


<!--
<div float=right>
<a href="javascript:window.print()" float=right>print</a>
</div>
-->



</div>

                </div>
            </div>

            <div class=row-fluid>
                
                
                    <div id=navigation class=span2>
                        <ul class="nav nav-list">
    <!-- <li><a href="/mapmanager/">Home</a></li> -->
    <BR>
    
    
        
        

        
            
                <li class=nav-header>Workflows</li>
            
            <li data-order="5"><a href="/mapmanager/gallery">Gallery</a></li>
        
            
            <li data-order="1"><a href="/mapmanager/getting-started">Getting started</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/making-a-map">Making a map</a></li>
        
            
            <li data-order="1"><a href="/mapmanager/annotating-a-stack">Annotating a stack</a></li>
        
    
        
        

        
            
                <li class=nav-header>Imaging Core</li>
            
            <li data-order="4"><a href="/mapmanager/fitting-segments-in-fiji">Fitting segments in Fiji</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/stackdb-plot">Stack DB plot</a></li>
        
            
            <li data-order="6"><a href="/mapmanager/layout-panel">Layout panel</a></li>
        
            
            <li data-order="5"><a href="/mapmanager/contrast-panel">Contrast panel</a></li>
        
            
            <li data-order="1"><a href="/mapmanager/stack-browser">Stack Browser</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/stack">Stack</a></li>
        
    
        
        

        
            
                <li class=nav-header>Interface Windows</li>
            
            <li data-order="2"><a href="/mapmanager/point-list">Point List</a></li>
        
            
            <li data-order="4"><a href="/mapmanager/find-points-panel">Find Points</a></li>
        
            
            <li data-order="6"><a href="/mapmanager/hdd-paths">Hard Drive Paths</a></li>
        
            
            <li data-order="5"><a href="/mapmanager/stackdb-options-panel">Options</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/search-panel">Search panel</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/plot-panel">Plot panel</a></li>
        
            
            <li data-order="1"><a href="/mapmanager/main-panel">Main panel</a></li>
        
    
        
        

        
            
                <li class=nav-header>Plots</li>
            
            <li data-order="1"><a href="/mapmanager/stack-plot">Stack plot</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/run-plot">Run plot</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/map-plot">Map plot</a></li>
        
    
        
        

        
            
                <li class=nav-header>Analysis</li>
            
            <li data-order="4"><a href="/mapmanager/Map-Pool">Map Pool</a></li>
        
            
            <li data-order="4"><a href="/mapmanager/Plotting">Plotting</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/Algorithms">Algorithms</a></li>
        
            
            <li data-order="1"><a href="/mapmanager/reports">Reports</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/intensity">Intensity</a></li>
        
    
        
        

        
            
                <li class=nav-header>Blog Posts</li>
            
            <li data-order="2"><a href="/mapmanager/release-notes">Release Notes</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/faq">FAQ</a></li>
        
            
            <li data-order=""><a href="/mapmanager/file-format">File format</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/user-files">User files</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/database-overview">Database overview</a></li>
        
    


<!-- List additional links. It is recommended to add a divider
    e.g. <li class=divider></li> first to break up the content. -->
</ul>

<!--    <A HREF="search.html">Search...</A> -->

                    </div>

                    <div id=content class=span10>
                        <div class=page-header>
    <h3>Release Notes
        
    </h3>
</div>

<h3 id="distributed-mapmanager-to-zeng-you-and-julia-linden-richard-huganir">20170123, Distributed MapManager to Zeng-You and Julia (Linden), Richard (Huganir)</h3>

<p>This is a major release with new features, improvements, and bug fixes. A full list of these will follow.</p>

<h3 id="distributed-mapmanager-to-julia-linden">20161012, Distributed MapManager to Julia (Linden)</h3>

<h3 id="distributed-mapmanager-to-allen-linden">20160722. Distributed MapManager to Allen (Linden)</h3>

<h3 id="distributed-mapmanager-to-mengnan-huganir">20160630. Distributed MapManager to Mengnan (Huganir)</h3>

<h2 id="update-file-version-20151224">20160422 Update (file version 20151224)</h2>

<p>This is a major release with new features, improvements, and bug fixes. The file format has not changed but the options have. Please remake your options!</p>

<h4 id="new-features">New Features</h4>

<ul>
  <li>
    <p>Jumping spines
Jumping spines are specified just like other persistent spines. select spines in both time-points and hit keyboard ‘p’. When you make jumping spines, the source and destination spines are required to be subtraction and addition respectively.</p>
  </li>
  <li>
    <p>Added jumping to map search</p>
  </li>
  <li>
    <p>No more limitation on length of file names when importing into stack browser</p>
  </li>
  <li>
    <p>Plot run +/- now has option to set ‘row’ of run</p>
  </li>
  <li>Added ‘Div’ option to plot panel.</li>
  <li>
    <p>Added option to normalize all spines to a constant value</p>
  </li>
  <li>
    <p>Segment density report now has segment position information {zMin, zMax, zMean, zMedian, xyAngle, tort}</p>
  </li>
  <li>Main map manager panel now remembers its position</li>
  <li>
    <p>Main map plot now remembers its position</p>
  </li>
  <li>Conrol click on ‘close all windows’ will now close tables</li>
</ul>

<h4 id="improvements">Improvements</h4>

<ul>
  <li>
    <p>Fast left/right mouse click should no longer be a problem.</p>
  </li>
  <li>
    <p>User clicks during long operations like opening a run should no longer be a problem.</p>
  </li>
  <li>
    <p>Updated coloring of spines in map plot. If there is no previous segment, spines are no longer marked as added (green). If there is no next segment, spines are no longer marked as subtracted (red). Same rules for transient (blue).</p>
  </li>
  <li>Map Plot. Snapping a marquee rectangle and right-click to make a selection now prints the mean/sd/se/n for both x and y axis.</li>
  <li>
    <p>Map Plot. Snapping a marquee rectangle and right-click to make a selection now works for +/- from mask.</p>
  </li>
  <li>
    <p>Stats button in map plot will now report grand mean of all spine masks in plot (previously was only per segment).</p>
  </li>
  <li>All spine dynamics now plot following colors and size specified in table in options panel.</li>
  <li>
    <p>The size of masks in map plots now follow ‘pntSel’ in main map manager options panel.</p>
  </li>
  <li>
    <p>Revamped example user file. tried to make it clear that this can be empty and that values specified will over-ride setting in main options panel.</p>
  </li>
  <li>Added ‘dynamics’ menu to right-click in map plot.</li>
  <li>Added ‘Edit Line’ menu to right-click in main stack window ‘Line Segments’.</li>
</ul>

<h4 id="bug-fixes">Bug Fixes</h4>

<ul>
  <li>
    <p>Fixed export to text.
If there is an error during export. ‘Clear User’ then ‘Analyze User Map’ and try export again.</p>
  </li>
  <li>
    <p>Replotting a run while existing run is linked will continue to correctly link</p>
  </li>
  <li>
    <p>Linked windows +/- zoom now works when some windows have left control bar and some do not</p>
  </li>
</ul>

<h2 id="section">20160126</h2>

<h4 id="new-features-1">New Features</h4>
<ul>
  <li>Opening a stack will now display a floating dialog while stack is loading (it is yellow)</li>
  <li>Exposed interface to set defaults for intensity background candidates.</li>
</ul>

<p>We can now set # rows, # cols, row mult, col mult, and a boolean to include other side of dendrite.
When you include candidates on the other side of the dendrite, you are doubling the # of candidated.
Due to this increased analysis, spine/second is dropping down to ~8 spines/second</p>

<ul>
  <li>Added ‘segment ends’ search to return spines close to the end of each segment</li>
</ul>

<h4 id="new-interface">New Interface</h4>
<ul>
  <li>Added ‘debug on error’ checkbox to the Intensity Tab. This turns ‘debug on error’ (global igor option) on/off to run intensity analysis for a map or a stack. You want to run intensity analysis with this OFF</li>
  <li>added ‘export map’ to right-click of map list in main map manager panel</li>
  <li>revamped search panel with two tabs: map and manual</li>
  <li>reworked obj info window interface
      - removed ‘analyze run’
      - on ‘analyze’ we will now open ch1/ch2 if neccessary</li>
  <li>control click on ‘Unload Stacks’ in main mapmanager panel to unload ALL stack across ALL open maps</li>
  <li>added (density report, dynamics report) right-click to map in main map manager panel</li>
  <li>added (scale, date/time) checkboxes to main map manager panel. This hides columns so you can see LONG ‘original names’</li>
</ul>

<h4 id="general-improvements">General Improvements</h4>
<ul>
  <li>Fixed user interface for clicking to set a manual position for intensity background
      - clicking off the image does nothing
      - if click results in roi going off image, we revert to last good background roi
      - removed help text from main window and now display in igor command window</li>
  <li>Rewrote ‘clear’ intensity analysis to be much faster.</li>
  <li>Moved default plot window to left (was off screen to right for richard)</li>
  <li>Rewrote ‘dynamics report’ to include 3d segment length and density. Previously lengths were calculated from 2d projections, now they are true 3d lengths. New columns are: {totalLen3d, goodLen3d, totalDen3d, goodDen3d}</li>
</ul>

<h4 id="bug-fixes-1">Bug Fixes</h4>
<ul>
  <li>setting the segment pivot point will be correctly saved. Previous versions (not all of them) were not doing this correctly.</li>
  <li>Fixed bug where the backbone roi was ‘looping around’ to previous backbone segment. This was happening for spines at the beginning of a segment (not at the end). Now, spines at both the beginning and end of a segment get the correct backbone ROI.</li>
  <li>fixed plot panel (ch1, ch2, dyn) checkboxes, they now generate full stat lists including ‘u’ stats</li>
  <li>[BUG] stat lists are using tp=0 to generate stats, if they are missing ‘u’, you will not get ‘u’ in stat list</li>
  <li>fixed bug where right-click below segment list (in left control panel of stack window) would sometime give an error</li>
</ul>

<h4 id="known-bugs">Known Bugs</h4>
<ul>
  <li>‘Export map’ has a bug if size of int analysis is different between stacks in a map. This happens if int analysis fails half way through and user ‘u’ stats are added to some but not other stacks. Solution is to clear and then re analyze intensity for the offending stacks. Be careful, when you clear, you lose your manual setting (individual spine background position, spine width, etc).</li>
</ul>

<h2 id="update-sent-to-users-on-20160115--20160118">20160119 Update (sent to users on 20160115 / 20160118)</h2>

<p>This is the first MapManager version of intensity analysis</p>

<h4 id="new-features-2">New Features</h4>
<ul>
  <li>Complete rewrite of intensity analysis</li>
  <li>Depending on the size of your stacks, intensity analysis should do ~15 spines/sec for large stacks and ~50 spines/sec for smaller stack. Loading stacks is the rate limiting factor.</li>
  <li>Spine roi is drawn using the longest spine length in each run</li>
  <li>Added intensity bad. Can be set for each spine. Spines marked ‘intensity bad’ can be toggled in all plots.</li>
  <li>Each spine has errors and warnings if intensity analysis had problems. Search for ‘errors and warnings’ to decide what to do with the errors. Most of the time you will set ‘Intensity Bad’</li>
  <li>Intensity Analysis Errors occur when
    <ul>
      <li>spine roi is off image</li>
      <li>backbone roi had to be shortened (near end of dendrite)</li>
      <li>background roi not found because all candidates are off image</li>
    </ul>
  </li>
  <li>Intensity analysis should be run with ‘Procedure - Debug On Error’ off</li>
  <li>Added ‘Save Map As…’ to save an entire map under a new name. Use Map Manager Panel - Utility - Save Map As…</li>
</ul>

<h4 id="new-interface-1">New Interface</h4>
<ul>
  <li>Search - Errors &amp; warnings</li>
  <li>Search - V Spines. Will search spines that have spine head above/below the backbone line connection point</li>
  <li>Search - ROI Bounds. Will search for spines that have background spine ROI near edge of image.</li>
</ul>

<h4 id="known-bugs-1">Known bugs</h4>
<ul>
  <li>[FIXED] Spine density in a map is using 2D projection of line</li>
  <li>[checked and seems to work] RIght-click menu items with ‘tab’ might not work on windows. For example ‘Reset Zoom   [enter]’</li>
  <li>[FIXED] changing a spine (e.g. ‘move’) does not set intensity dirty for other spines in run</li>
  <li>[FIXED] editing spine dynamics (add/subtract/persist) needs to mark all effected spines as ‘intensity dirty’</li>
  <li>After int analysis, if no background is found (error #99) it is not possible to have user set manual background</li>
</ul>

<h2 id="sent-first-version-of-map-manager-to-richard-and-yong">20150731 Sent first version of Map Manager to Richard and Yong</h2>

<ul>
  <li>This is a COMPLETE rewrite of original bSPine program</li>
  <li>Did not hear back</li>
</ul>


<div class="post-tags">
  
  
  
    <b>Tags:</b>  
  
  
  
    <a href="/mapmanager/tags/#faq">faq</a>
  

   <!--
   <a href="javascript:window.print()">print</a>
    -->

   <!--
   <BR>
   <a href="_posts/2016-04-22-release-notes.pdf">print pdf</a>
   <BR>
   -->
    
</div>


                    </div>
                
            </div>

            

            <div class=row-fluid>
                <div id=footer class=span12>
                      Copyright &copy; 2017 - Robert Cudmore -

 <a href="http://robertcudmore.org/index.html">robertcudmore.org</a>

<!--
Documentation for <a href="https://github.com/cudmore/mapmanager">Map Manager</a>
-->
                </div>
            </div>
        </div>

        <script>
            function orderNav() {
                var list,
                    section,
                    header,
                    sections = [],
                    lists = {},
                    headers = {};

                var navUl = document.querySelectorAll('#navigation ul')[0],
                    navLis = document.querySelectorAll('#navigation ul li');

                if (!navUl) return;

                for (var i = 0; i < navLis.length; i++) {
                    var order, li = navLis[i];

                    if (li.classList.contains('nav-header')) {
                        section = li.textContent || li.innerText;
                        sections.push(section);
                        headers[section] = li;
                        continue;
                    }

                    if (!lists[section]) {
                        lists[section] = [];
                    }

                    order = parseFloat(li.getAttribute('data-order'))
                    lists[section].push([order, li]);
                    
                    //console.log(order, li);
                }

                //20160327 removed, this was no doing anything???
                for (var i = 0; i < sections.length; i++) {
                    section = sections[i];
                    //console.log(section);
                    list = lists[section].sort(function(a, b) {
                        return a[0] - b[0];
                    });

                    if (header = headers[section]) {
                        navUl.appendChild(header);
                    }
                    for (var j = 0; j < list.length; j++) {
                        navUl.appendChild(list[j][1]);
                    }
                }
            }

            if (document.querySelectorAll) orderNav();
        </script>
        
    </body>
</html>
