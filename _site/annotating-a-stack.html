<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>Map Manager : Annotating a stack</title>
        <meta name="description" content="">

        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/mapmanager/css/syntax.css">
        <link rel="stylesheet" href="/mapmanager/css/main.css">
    </head>
    <body>

        <div class="container">
            <div class=row-fluid>
                <div id=header class=span12>
                    <div class=no-print>

<div style="float: right;"><A HREF="search.html">Search...</A></div>

<h4>
	<a class=brand href="/mapmanager/">Map Manager</a>
    <small></small>
</h4>


<!--
<div float=right>
<a href="javascript:window.print()" float=right>print</a>
</div>
-->



</div>

                </div>
            </div>

            <div class=row-fluid>
                
                
                    <div id=navigation class=span2>
                        <ul class="nav nav-list">
    <!-- <li><a href="/mapmanager/">Home</a></li> -->
    <BR>
    
    
        
        

        
            
                <li class=nav-header>Workflows</li>
            
            <li data-order="5"><a href="/mapmanager/gallery">Gallery</a></li>
        
            
            <li data-order="1"><a href="/mapmanager/getting-started">Getting started</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/making-a-map">Making a map</a></li>
        
            
            <li data-order="1"><a href="/mapmanager/annotating-a-stack">Annotating a stack</a></li>
        
    
        
        

        
            
                <li class=nav-header>Imaging Core</li>
            
            <li data-order="4"><a href="/mapmanager/fitting-segments-in-fiji">Fitting segments in Fiji</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/stack-annotations">Stack Annotations</a></li>
        
            
            <li data-order="6"><a href="/mapmanager/layout-panel">Layout panel</a></li>
        
            
            <li data-order="5"><a href="/mapmanager/contrast-panel">Contrast panel</a></li>
        
            
            <li data-order="1"><a href="/mapmanager/stack-browser">Stack Browser</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/stack">Stack</a></li>
        
    
        
        

        
            
                <li class=nav-header>Interface Windows</li>
            
            <li data-order="2"><a href="/mapmanager/point-list">Point List</a></li>
        
            
            <li data-order="4"><a href="/mapmanager/find-points-panel">Find Points</a></li>
        
            
            <li data-order="6"><a href="/mapmanager/hdd-paths">Hard Drive Paths</a></li>
        
            
            <li data-order="1"><a href="/mapmanager/time-series-panel">Time Series Panel</a></li>
        
            
            <li data-order="5"><a href="/mapmanager/stackdb-options-panel">Options</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/search-panel">Search panel</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/plot-panel">Plot panel</a></li>
        
    
        
        

        
            
                <li class=nav-header>Plots</li>
            
            <li data-order="1"><a href="/mapmanager/stack-plot">Stack plot</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/run-plot">Run plot</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/map-plot">Map plot</a></li>
        
    
        
        

        
            
                <li class=nav-header>Analysis</li>
            
            <li data-order="4"><a href="/mapmanager/Map-Pool">Map Pool</a></li>
        
            
            <li data-order="4"><a href="/mapmanager/Plotting">Plotting</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/Algorithms">Algorithms</a></li>
        
            
            <li data-order="1"><a href="/mapmanager/reports">Reports</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/intensity">Intensity</a></li>
        
    
        
        

        
            
                <li class=nav-header>Blog Posts</li>
            
            <li data-order="2"><a href="/mapmanager/release-notes">Release Notes</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/faq">FAQ</a></li>
        
            
            <li data-order=""><a href="/mapmanager/file-format">File format</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/user-files">User files</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/database-overview">Database overview</a></li>
        
    


<!-- List additional links. It is recommended to add a divider
    e.g. <li class=divider></li> first to break up the content. -->
</ul>

<!--    <A HREF="search.html">Search...</A> -->

                    </div>

                    <div id=content class=span10>
                        <div class=page-header>
    <h3>Annotating a stack
        
    </h3>
</div>

<p>This describes a workflow for annotating 3D points in a <strong>single stack</strong>. Please see <a href="making-a-map">making a map</a> to collect a sequence of stacks into a timeseries map.</p>

<h4 id="open-and-initialize-map-manager">1. Open and initialize Map Manager</h4>

<ul>
  <li>Open Map Manager in Igor Pro (double-click the Map Manager.ipf file).</li>
  <li>Click in the Igor Pro command window to compile (the command window is titled ‘Untitled’).</li>
  <li>Open the <a href="stack-browser">Stack Browser</a> window by selecting the main menu ‘MapManager - Stack Browser’.</li>
</ul>

<h4 id="load-a-stack">2. Load a stack</h4>
<ul>
  <li>Either<br />
  Load a directory of .tif files using the ‘Load Generic Directory’ button.</li>
  <li>Or<br />
  Drag and drop a single .tif stack onto the Igor Pro program icon.</li>
</ul>

<h4 id="display-a-stack">3. Display a stack</h4>

<p>Once a stack is loaded in the <a href="stack-browser">Stack Browser</a>, double-click on its name in the list to display the stack in a <a href="stack">Stack</a> window.</p>

<h4 id="add-3d-annotations">4. Add 3D annotations</h4>

<p>Each stack can have a list of 3D annotations, we call this a stack database (stack db).</p>

<ul>
  <li>In a <a href="stack">stack</a> window, open the annotation toolbar with keyboard ‘[’.</li>
  <li>Add a new 3D point with shift+click.</li>
  <li>Delete a point by selecting the point (mouse left-click) and hitting keyboard ‘Delete’ or ‘Backspace’.</li>
  <li>Each point can have a textual note, select the point and press keyboard ‘n’ to enter a note..</li>
  <li>See the <a href="stack-annotations">stack annotations</a> page for complete information.</li>
</ul>

<h4 id="save-your-work">5. Save your work</h4>

<ul>
  <li>Save stack annotations using the ‘Save’ button.</li>
  <li>Load saved stack annotations with the ‘Load’ button.</li>
  <li><b>Important:</b> You are responsible for saving your annotations. Use the ‘Save’ button.</li>
</ul>

<h3 id="important-concepts">Important concepts</h3>

<h4 id="stack-scale">Stack scale</h4>

<p>Please set the proper X/Y/Z scale before making any annotations. Set the X/Y/Z stack scale in the main stack window with keyboard ‘shift+p’.</p>

<p>Once 3D points are created, <strong>the scale can not be changed</strong>.</p>

<p class="important">You need to set the proper X/Y/Z stack scale, in um, with keyboard 'shift+p'. This is a critical step in Map Manager as many measurements are made using um. Once annotations are reated the scale can not be changed.</p>

<h4 id="searching">Searching</h4>

<p>Open the <a href="search-panel">Search panel</a> from the left annotation toolbar using the ‘Search’ button.</p>

<p>The search panel will search stack annotations and return a list of annotations. Once generated, clicking on an annotation in the search results will display the annotation in the main stack window.</p>

<p>Different types of searches are performed with buttons:</p>

<ul>
  <li>All : Generate a list of all annotations in a stack.</li>
  <li>Notes : Generate a list of all annotations with notes.</li>
  <li>Close : Search for annotations that have other annotations within a 3D distance.</li>
</ul>

<p>If you zoom the stack window (ctrl+mouse wheel or keyboard +) you can snap to different points while maintaining the zoom using the search panel ‘Snap’ checkbox.</p>

<p>The search results are a static output report. Once a search is performed, if points in the main stack window are modified (add, delete, move) the search results will not be automatically updated. If the points are modified in the main stack window, simply perform the search again.</p>

<div class="print-page-break"></div>



<div class="post-tags">
  
  
  
    <b>Tags:</b>  
  
  
  
    <a href="/mapmanager/tags/#Imaging core">Imaging core</a>,
  
    <a href="/mapmanager/tags/#Workflow">Workflow</a>,
  
    <a href="/mapmanager/tags/#Posts">Posts</a>
  

   <!--
   <a href="javascript:window.print()">print</a>
    -->

   <!--
   <BR>
   <a href="_posts/2015-04-18-annotating-a-stack.pdf">print pdf</a>
   <BR>
   -->
    
</div>


                    </div>
                
            </div>

            

            <div class=row-fluid>
                <div id=footer class=span12>
                      Copyright &copy; 2017 - Robert Cudmore -

 <a href="http://robertcudmore.org/index.html">robertcudmore.org</a>

<!--
Documentation for <a href="https://github.com/cudmore/mapmanager">Map Manager</a>
-->
                </div>
            </div>
        </div>

        <script>
            function orderNav() {
                var list,
                    section,
                    header,
                    sections = [],
                    lists = {},
                    headers = {};

                var navUl = document.querySelectorAll('#navigation ul')[0],
                    navLis = document.querySelectorAll('#navigation ul li');

                if (!navUl) return;

                for (var i = 0; i < navLis.length; i++) {
                    var order, li = navLis[i];

                    if (li.classList.contains('nav-header')) {
                        section = li.textContent || li.innerText;
                        sections.push(section);
                        headers[section] = li;
                        continue;
                    }

                    if (!lists[section]) {
                        lists[section] = [];
                    }

                    order = parseFloat(li.getAttribute('data-order'))
                    lists[section].push([order, li]);
                    
                    //console.log(order, li);
                }

                //20160327 removed, this was no doing anything???
                for (var i = 0; i < sections.length; i++) {
                    section = sections[i];
                    //console.log(section);
                    list = lists[section].sort(function(a, b) {
                        return a[0] - b[0];
                    });

                    if (header = headers[section]) {
                        navUl.appendChild(header);
                    }
                    for (var j = 0; j < list.length; j++) {
                        navUl.appendChild(list[j][1]);
                    }
                }
            }

            if (document.querySelectorAll) orderNav();
        </script>
        
    </body>
</html>
