<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>Map Manager : Find Points</title>
        <meta name="description" content="">

        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/mapmanager/css/syntax.css">
        <link rel="stylesheet" href="/mapmanager/css/main.css">
    </head>
    <body>

        <div class="container">
            <div class=row-fluid>
                <div id=header class=span12>
                    <div class=no-print>

<div style="float: right;"><A HREF="search.html">Search...</A></div>

<h4>
	<a class=brand href="/mapmanager/">Map Manager</a>
    <small></small>
</h4>


<!--
<div float=right>
<a href="javascript:window.print()" float=right>print</a>
</div>
-->



</div>

                </div>
            </div>

            <div class=row-fluid>
                
                
                    <div id=navigation class=span2>
                        <ul class="nav nav-list">
    <!-- <li><a href="/mapmanager/">Home</a></li> -->
    <BR>
    
    
        
        

        
            
                <li class=nav-header>Workflows</li>
            
            <li data-order="5"><a href="/mapmanager/gallery">Gallery</a></li>
        
            
            <li data-order="1"><a href="/mapmanager/getting-started">Getting started</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/making-a-map">Making a map</a></li>
        
            
            <li data-order="1"><a href="/mapmanager/annotating-a-stack">Annotating a stack</a></li>
        
    
        
        

        
            
                <li class=nav-header>Imaging Core</li>
            
            <li data-order="4"><a href="/mapmanager/fitting-segments-in-fiji">Fitting segments in Fiji</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/stackdb-plot">Stack DB plot</a></li>
        
            
            <li data-order="6"><a href="/mapmanager/layout-panel">Layout panel</a></li>
        
            
            <li data-order="5"><a href="/mapmanager/contrast-panel">Contrast panel</a></li>
        
            
            <li data-order="1"><a href="/mapmanager/stack-browser">Stack Browser</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/stack">Stack</a></li>
        
    
        
        

        
            
                <li class=nav-header>Interface Windows</li>
            
            <li data-order="4"><a href="/mapmanager/find-points-panel">Find Points</a></li>
        
            
            <li data-order="6"><a href="/mapmanager/hdd-paths">Hard Drive Paths</a></li>
        
            
            <li data-order="5"><a href="/mapmanager/stackdb-options-panel">Options</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/search-panel">Search panel</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/plot-panel">Plot panel</a></li>
        
            
            <li data-order="1"><a href="/mapmanager/main-panel">Main panel</a></li>
        
    
        
        

        
            
                <li class=nav-header>Plots</li>
            
            <li data-order="1"><a href="/mapmanager/stack-plot">Stack plot</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/run-plot">Run plot</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/map-plot">Map plot</a></li>
        
    
        
        

        
            
                <li class=nav-header>Analysis</li>
            
            <li data-order="1"><a href="/mapmanager/reports">Reports</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/intensity">Intensity</a></li>
        
    
        
        

        
            
                <li class=nav-header>Blog Posts</li>
            
            <li data-order="2"><a href="/mapmanager/release-notes">Release Notes</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/faq">FAQ</a></li>
        
            
            <li data-order=""><a href="/mapmanager/file-format">File format</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/user-files">User files</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/database-overview">Database overview</a></li>
        
    


<!-- List additional links. It is recommended to add a divider
    e.g. <li class=divider></li> first to break up the content. -->
</ul>

<!--    <A HREF="search.html">Search...</A> -->

                    </div>

                    <div id=content class=span10>
                        <div class=page-header>
    <h3>Find Points
        
    </h3>
</div>

<p class="tip"><b>New in October, 2015.</b>
This documentation needs some work.
</p>

<p>The find points panel allows you to browse objects between two timepoints/sessions, will show you the best-guess for putative connections, and allow you to connect/disconnect objects across timepoints/sessions.</p>

<p>To open the find points panel:</p>

<ul>
  <li>Right-click a spine in a map and selecting ‘Find Points’.</li>
  <li>Right-click a session in the main Map Manager Panel and selecting ‘Find Points’.</li>
  <li>Right-click a map in the main Map Manager Panel and selecting ‘Find Points’.</li>
</ul>

<h4 id="overview">Overview</h4>

<ul>
  <li>The find points panel displays a list of all spines in the source timepoint (sIdx). In this example there are 21 spines in the source timepoint.</li>
  <li>For each spines in the source timepoint, it shows if it is connected to the destination timepoint (dIdx). It will color the dIdx cell red if there is no connection.</li>
  <li>Any remaining spines in the destination timepoint (spines not connected to the source timepoint) will be displayed at the bottom of the list. In this example there are 3 of these spines.</li>
  <li>Each spine in the source timepoint will also have a best ‘Guess’ connection in the ‘Guess’ column. For spines, this is using your ‘Segment Pivot’ for the two segments listed in Find Points and will connect spines across timepoints/sessions that are within ‘Connect spines within this distance (um)’. See the Map Manager Options Panel to set this.</li>
</ul>

<p><img class="img-float-left" src="images/mm3/mm3-find-points-panel.png" width="500" /></p>
<div class="print-page-break"></div>

<h4 id="interface">Interface</h4>

<ul>
  <li><strong>From TP.</strong> Source timepoint/session (From TP)</li>
  <li><strong>To.</strong> Destination timepoint/session (To timepoint)</li>
  <li><strong>Object Type.</strong> Select the type of objects to display.</li>
  <li><strong>ShowBad.</strong> If checked, bad points will be included in the list. Bad points will always have their ‘Idx’ column in red.</li>
  <li><strong>Segment ID.</strong> Limit the list to one segment ID.</li>
  <li><strong>All Segments.</strong> Generate the list for all segments. If you are connecting spines, leave this off (unchecked).</li>
  <li><strong>Refresh.</strong> Will refresh the Find Points list. [as of Nov 2015, there may be some edits to the map that do not refresh the list automatically.]</li>
</ul>

<h4 id="column-names">Column Names</h4>

<p>Clicking on any column name will sort the list by the values in that column. Column names starting with ‘s’ are for the source timepoint (from TP), column names starting with ‘d’ are for the destination timepoint (to TP).</p>

<ul>
  <li><strong>Idx</strong> - The row index in the table (no relation to object index).</li>
  <li><strong>sIdx</strong> - Source object stack db index.</li>
  <li><strong>sz</strong> - Source object z-depth</li>
  <li><strong>sParent</strong> - Source object parent segment.</li>
  <li><strong>spDist</strong> - Source object distance from pivot.</li>
  <li><strong>Guess</strong> - Automatically generated best guess for connection. This uses each objects distance from pivot (spDist and dpDist) and returns objects within X um, where X is specified by ‘Connect spines within this distance (um)’.</li>
  <li><strong>dIdx</strong> - Destination object stack db index.</li>
  <li><strong>dz</strong> - Destination object z-depth</li>
  <li><strong>dpDist</strong> - Destination object distance from pivot.</li>
  <li><strong>Dist</strong> - When two points are connected (both sIdx and dIdx are filled in), this is the distance between the two points measured as the distance between their two pivot points (spDist and dpDist).</li>
</ul>

<h4 id="interaction">Interaction</h4>

<ul>
  <li>Bring up a map run by right-clicking a row and selecting ‘Plot Run’.</li>
  <li>Select an object in the list and it will be propagated to all <a href="run-plot">run</a> and <a href="map-plot">map</a> plots.</li>
  <li>Use the keyboard to scroll through the list. The selected point will flash in all open windows.</li>
  <li>Use left/right arrows to flash the selected object again.</li>
</ul>

<h4 id="using-the-keyboard-to-connect-and-disconnect-objects">Using the keyboard to connect and disconnect objects</h4>

<p>For a selected row</p>

<ul>
  <li>‘shift + right-arrow’ to commit the ‘Guess’ to the destination (dIdx). This will connect the source and destination objects together, making them persistent.</li>
  <li>‘del’ key to remove the connection. This will remove persistence between the source and destination objects.</li>
  <li>‘ctrl + p’ to set the selected point at the global pivot. This is not used for spines.</li>
</ul>

<h4 id="tips">Tips</h4>

<p>When used with a spine run, find points is a reliable way to check the connections between all objects in two timepoints.</p>

<p>All objects in the source timepoint are in the list, followed by any remaining objects in destination timepoint that were not connected to an object in the source timepoints.</p>

<p>By sorting the list with the source distance from pivot (spDist), you can step through all spines in the source timepoint sequentially along the dendritic segment.</p>

<p>By sorting the list with the destination distance from pivot (dpDist), you get a sequential list of all objects in the destination timepoint.</p>

<p><img class="img-float-left" src="images/mm3/find-points-example.png" width="1000" /></p>
<div class="print-page-break"></div>
<p>Example usage of find points panel. Here, we have a run of sessions 1/2/3 (top row). We have positioned the Find Points panel below the stack for session 2. By selecting rows (spines) in Find Points we can browse all spines in session 2, visualize their connections to session 3, and finally edit their connections to session 3 (using the keyboard in Find Points Panel).</p>



<div class="post-tags">
  
  
  
    <b>Tags:</b>  
  
  
  
    <a href="/mapmanager/tags/#Interface">Interface</a>
  

   <!--
   <a href="javascript:window.print()">print</a>
    -->

   <!--
   <BR>
   <a href="_posts/2015-08-02-find-points-panel.pdf">print pdf</a>
   <BR>
   -->
    
</div>


                    </div>
                
            </div>

            

            <div class=row-fluid>
                <div id=footer class=span12>
                      Copyright &copy; 2016 - Robert Cudmore -

 <a href="http://robertcudmore.org/index.html">robertcudmore.org</a>

<!--
Documentation for <a href="https://github.com/cudmore/mapmanager">Map Manager</a>
-->
                </div>
            </div>
        </div>

        <script>
            function orderNav() {
                var list,
                    section,
                    header,
                    sections = [],
                    lists = {},
                    headers = {};

                var navUl = document.querySelectorAll('#navigation ul')[0],
                    navLis = document.querySelectorAll('#navigation ul li');

                if (!navUl) return;

                for (var i = 0; i < navLis.length; i++) {
                    var order, li = navLis[i];

                    if (li.classList.contains('nav-header')) {
                        section = li.textContent || li.innerText;
                        sections.push(section);
                        headers[section] = li;
                        continue;
                    }

                    if (!lists[section]) {
                        lists[section] = [];
                    }

                    order = parseFloat(li.getAttribute('data-order'))
                    lists[section].push([order, li]);
                    
                    //console.log(order, li);
                }

                //20160327 removed, this was no doing anything???
                for (var i = 0; i < sections.length; i++) {
                    section = sections[i];
                    //console.log(section);
                    list = lists[section].sort(function(a, b) {
                        return a[0] - b[0];
                    });

                    if (header = headers[section]) {
                        navUl.appendChild(header);
                    }
                    for (var j = 0; j < list.length; j++) {
                        navUl.appendChild(list[j][1]);
                    }
                }
            }

            if (document.querySelectorAll) orderNav();
        </script>
        
    </body>
</html>
