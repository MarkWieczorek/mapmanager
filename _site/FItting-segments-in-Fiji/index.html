<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>Map Manager : Fitting segments in Fiji</title>
        <meta name="description" content="">

        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/mapmanager/css/syntax.css">
        <link rel="stylesheet" href="/mapmanager/css/main.css">
    </head>
    <body>

        <div class="container">
            <div class=row-fluid>
                <div id=header class=span12>
                    <div class=no-print>
<h4><a class=brand href="/mapmanager/">Map Manager</a>
    <small></small>
</h4>

<!--
<div float=right>
<a href="javascript:window.print()" float=right>print</a>
</div>
-->

</div>

                </div>
            </div>

            <div class=row-fluid>
                
                
                    <div id=navigation class=span2>
                        <ul class="nav nav-list">
    <!-- <li><a href="/mapmanager/">Home</a></li> -->
    <BR>
    
        
        

        
            
                <li class=nav-header>Workflows</li>
            
            <li data-order="2"><a href="/mapmanager/making-a-map">Making a map</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/annotating-a-stack">Annotating a stack</a></li>
        
            
            <li data-order="1"><a href="/mapmanager/simple-stack-db">Simple stack database</a></li>
        
    
        
        

        
            
                <li class=nav-header>Imaging Core</li>
            
            <li data-order="3"><a href="/mapmanager/stackdb-plot">Stack DB plot</a></li>
        
            
            <li data-order="4"><a href="/mapmanager/scale-panel">Scale panel</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/process-panel">Process panel</a></li>
        
            
            <li data-order="1"><a href="/mapmanager/stack-browser">Stack Browser</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/stack">Stack</a></li>
        
    
        
        

        
            
                <li class=nav-header>Interface Windows</li>
            
            <li data-order="5"><a href="/mapmanager/hdd-paths">Hard Drive Paths</a></li>
        
            
            <li data-order="4"><a href="/mapmanager/stackdb-options-panel">Stack DB Options</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/search-panel">Search panel</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/plot-panel">Plot panel</a></li>
        
            
            <li data-order="1"><a href="/mapmanager/main-panel">Main panel</a></li>
        
    
        
        

        
            
                <li class=nav-header>Plots</li>
            
            <li data-order="1"><a href="/mapmanager/stack-plot">Stack plot</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/run-plot">Run plot</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/map-plot">Map plot</a></li>
        
    
        
        

        
            
                <li class=nav-header>Analysis</li>
            
            <li data-order="1"><a href="/mapmanager/spine-dynamics">Spine Dynamics</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/intensity">Intensity</a></li>
        
    
        
        

        
            
                <li class=nav-header>Blog Posts</li>
            
            <li data-order="1"><a href="/mapmanager/getting-started">Getting started</a></li>
        
            
            <li data-order="2"><a href="/mapmanager/faq">FAQ</a></li>
        
            
            <li data-order=""><a href="/mapmanager/File-format">File format</a></li>
        
            
            <li data-order=""><a href="/mapmanager/fitting-segments-in-fiji">Fitting segments in Fiji</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/user-files">User files</a></li>
        
            
            <li data-order="3"><a href="/mapmanager/database-overview">Database overview</a></li>
        
    
<!-- List additional links. It is recommended to add a divider
    e.g. <li class=divider></li> first to break up the content. -->
</ul>

                    </div>

                    <div id=content class=span10>
                        <div class=page-header>
    <h3>Fitting segments in Fiji
        
    </h3>
</div>

<p>Line segments are fit in FIJI using Map Manager specified control points.</p>

<h3 id="the-version-of-fiji-is-critical">The version of Fiji is critical</h3>

<p>You are required to use ImageJ 1.47v, this corresponds to the &#39;Fiji Life-Line version, 2013 July 15&#39; on the main <a href="http://fiji.sc/Downloads">FIJI download page</a>.</p>

<p>If you already have a newer version of Fiji installed, this is fine as two versions of Fiji can be installed. They just have to be in different hard-drive folders.</p>

<p>Once downloaded, drag and drop the Fiji.app application folder to your user folder or to your desktop and then copy the Bob_Neurite_Tracer_v3 plugin to the &#39;plugins&#39; folder inside this Fiji.app application folder.</p>

<p class="important"><B>Important.</B> Do <B>NOT</B> install Fiji into 'Program Files'.</p>

<p>The reason we use this older version of Fiji is that newer versions of Fiji have undocumented changes to the backend JAVA programming interface. Until this is resolved, we will continue to use the older version of Fiji.</p>

<p>Platform specific version can be downloaded here (these are slightly newer but seem to work)</p>

<ul>
<li>Mac: <a href="http://fiji.sc/downloads/Life-Line/fiji-macosx-20140602.dmg">http://fiji.sc/downloads/Life-Line/fiji-macosx-20140602.dmg</a></li>
<li>Windows: <a href="http://fiji.sc/downloads/Life-Line/fiji-win64-20140602.zip">http://fiji.sc/downloads/Life-Line/fiji-win64-20140602.zip</a></li>
</ul>

<h3 id="installing-the-&#39;bob-neurite-tracer&#39;-plugin">Installing the &#39;Bob Neurite Tracer&#39; plugin</h3>

<p>When you fit a line in Fiji from within Map Manager, you are using the Fiji plugin Bob_Neurite_Tracer_v3.java</p>

<p>To install this plugin</p>

<ol>
<li>Download Bob_Neurite_Tracer_v3.java <a href="../images/Bob_Neurite_Tracer_v3.java">here</a> or from our Github repository <a href="https://github.com/cudmore/bob-fiji-plugins">here</a>.</li>
<li>Copy Bob_Neurite_Tracer_v3.java into your Fiji &#39;plugins&#39; folder.</li>
</ol>

<h3 id="configuring-map-manager-to-fit-a-line-in-fiji">Configuring Map Manager to fit a line In Fiji</h3>

<p>You need to specify the location of your Fiji program from within Map Manager. This is most easily done using the <a href="/mapmanager/hdd-paths">Hard Drive Paths</a> panel. Here are the details:</p>

<ul>
<li>Run Map Manager with the bStack.ipf file (this is how you always run Map Manager).</li>
<li>Open the <a href="/mapmanager/hdd-paths">HDD Paths</a> panel using the main menu &#39;mm3 -&gt; Hard Drive Paths&#39;.</li>
<li>In the Map Manager HDD Paths panel, specify the path to your Fiji Application with the &#39;Set&#39; button.</li>
<li>Save these options with the green &#39;Save&#39; button. The next time you open Map Manager, the path to Fiji should be set.</li>
</ul>

<p>If that does not work, you can specify the location of your Fiji program in a Map Manager <a href="/mapmanager/user-files/">User File</a>. The user file needs to contain a line like this...</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"># specify the location of your Fiji executable.
#Please use a lifeline version for now.
#mac
root:stackdb2:options:gFijiPath=&quot;/Users/cudmore/Fiji.app/Contents/MacOS/Imagej-macosx&quot;
#windows
#root:stackdb2:options:gFijiPath=&quot;C:\Users\cudmore.linden-image2\Desktop\Fiji.app\fiji-win64.exe&quot;
</code></pre></div>
<p>Make sure the actual file exists. Don&#39;t assume the name of Fiji is &#39;fiji-win64.exe&#39;, this name changes from version to version of Fiji. If there is an error in your path, you WILL get an error when fitting lines in Map Manager.</p>

<p class="important"><B>Important.</B> If your line fits do not work from within Map Manager, it is either because you have not specified the full path to your Fiji executable or you have not installed the Bob_Neurite_Tracer_v3.java plugin properly.</p>


<div class="post-tags">
  
    
  
  
  
    <b>Tags:</b>  
  
  
  
    <a href="/mapmanager/tags/#xxx">xxx</a>
  

   <!--
   <a href="javascript:window.print()">print</a>
    -->

   <!--
   <BR>
   <a href="_posts/2015-05-21-fitting-segments-in-fiji.pdf">print pdf</a>
   <BR>
   -->
    
</div>


                    </div>
                
            </div>

            

            <div class=row-fluid>
                <div id=footer class=span12>
                      Copyright &copy; 2015 - Robert Cudmore -

 <a href="http://robertcudmore.org/index.html">robertcudmore.org</a>

<!--
Documentation for <a href="https://github.com/cudmore/mapmanager">Map Manager</a>
-->
                </div>
            </div>
        </div>

        <script>
            function orderNav() {
                var list,
                    section,
                    header,
                    sections = [],
                    lists = {},
                    headers = {};

                var navUl = document.querySelectorAll('#navigation ul')[0],
                    navLis = document.querySelectorAll('#navigation ul li');

                if (!navUl) return;

                for (var i = 0; i < navLis.length; i++) {
                    var order, li = navLis[i];

                    if (li.classList.contains('nav-header')) {
                        section = li.textContent || li.innerText;
                        sections.push(section);
                        headers[section] = li;
                        continue;
                    }

                    if (!lists[section]) {
                        lists[section] = [];
                    }

                    order = parseFloat(li.getAttribute('data-order'))
                    lists[section].push([order, li]);
                }

                for (var i = 0; i < sections.length; i++) {
                    section = sections[i];
                    list = lists[section].sort(function(a, b) {
                        return a[0] - b[0];
                    });

                    if (header = headers[section]) {
                        navUl.appendChild(header);
                    }
                    for (var j = 0; j < list.length; j++) {
                        navUl.appendChild(list[j][1]);
                    }
                }
            }

            if (document.querySelectorAll) orderNav();
        </script>
        
    </body>
</html>
