---
layout: page
title: "Run plot"
category: plot
date: 2015-04-20 22:46:33
order: 3
tags:
- Plots
---

<IMG class="img-float-center" SRC="images/mm3/example-spine-run.png" WIDTH="800">

<div class="print-page-break"></div>

A run plot is a sequence of [stack][4] plots, one for each session in a map. The image above shows a run plot of spines. Spine # 201 is selected in each of three stack plots.

There are three types of run plots:

 1. **Stack Run.** In its simplest form, a run plot showing the sequence of stacks in a map.
 2. **Segment Run.** The same as a stack run plot but connected segments are selected, displayed, and optionally zoomed.
 3. **Object Run.** The same as a stack run plot but individual stack db points (3D points) are followed across sessions in a map. One example is a run of spine objects across all stacks/sessions in a map.
 
### Opening a run plot

<IMG class="img-float-left" SRC="images/mm3/run-plot-menu.png" WIDTH="120">

A run plot can be opened from multiple places in the interface. In general, a right-click on a session or object will open a contextual popup-menu (shown on the left).

<div class="print-page-break"></div>
 - Right-click an object in a [map plot][1].
 - Right-click an object in a [search][2] results.
 - Right-click a session in the [time-series panel][3]
 
### Navigating a run plot
Each [stack plot][4] plot in a run plot behaves exactly like an individual stack plot. For example, left-click to select individual objects in any of the stack-db plots within a run plot.

There are additional interface elements available in a run plot.

 1. **Control+click** on an object in one stack plot of a run plot will select that object in all other stack plots of the run plot. If a stack plot at a given session is missing the object (for example, the object was subtracted), the image will snap to the region where the point 'would be'.

 2. **Keyboard-l** (that is lower-case 'l' as in 'link') will link all stacks in a run plot allowing them to be zoomed and panned in synch. Linking can be turned on and off again by pressing keyboard-l.

 3. **keyboard a/s/p/b**, see below
 
### Editing dynamics in a run plot

The dynamics between stack-db objects and segments can be edited in a run plot.

 - **a** : The selected object is marked as **A**ddition.
 - **s** : The selected object is marked as **S**ubtraction
 - **p** : The selected objects are marked as **P**ersistent. Requires a selection in two timepoints, see below.
 - **b** : The selected object is marked as **B**ad. This is only available for stack-db objects, it is not available for segments.
 
#### Persistent is a special case

When two objects are connected between two sequential timepoints/sessions we refer to them as 'persistent'. To connect two points and make them persistent, both points need to be selected (in their respective timepoints) and the point in the <B>latter</B> timepoint needs to be marked persistent.

 - Click in the source stack window and select an object. For example, timepoint 2.
 - Click in the destination stack window and select an object. For example, timepoint 3.
 - Press keyboard 'p' in the destination stack window. In this example, timepoint 3.
 
<span style="color:red">Important:</span> The keyboard commands above will default to editing the dynamics of stack-db objects. To edit the dynamics between segments, turn on the global option in and stack window by checking 'Line Segments'.

All of these keyboard commands have corresponding right-click contextual menus. Select a point and right-click to open the contextual menu.

### Using stack db object tags in a run plot

Turn on object tags for a given stack window using keyboard 't'. The dynamics of each object is encoded in the color of the tag, <span style="color:green">green</span> for addition, <span style="color:red">red</span> for subtraction, and <span style="color:yellow">yellow</span> for persistent. Objects that are in the same run will have the same number in each of the stack plots. Added objects get a new number. This system is designed to quickly visualize the connectivity between stack db objects.

<IMG class="img-float-left" SRC="images/mm3/mm3-run-segment-example.png" WIDTH="700">

<div class="print-page-break"></div>

Example run plot following a spine (yellow circle) through multiple timepoints in a map.


<IMG class="img-float-left" SRC="images/mm3/mm3-run-segment-example2.png" WIDTH="700">

<div class="print-page-break"></div>

Same run plot as above after zooming in. All stacks in a run plot can be synchronized with keyboard 'l' (as in Link) so that zooming, panning, and setting the slice in one stack plot of a run will propagate to all other stack plots of that run.


<div class="print-page-break"></div>

<IMG class="img-float-left" SRC="images/mm3/mm3-segment-run.png" WIDTH="700">


<div class="print-page-break"></div>

A segment run plot with the same segment selected in all timepoints. Note the difference in scale compared to the spine run examples. All scale bars are 5 um.


[1]: map-plot
[2]: search-panel
[3]: time-series-panel
[4]: stack
[5]: stack-annotations
